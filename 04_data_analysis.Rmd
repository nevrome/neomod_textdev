---
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r}
# allow easy dynamic value integration
sf_prep <- "../neomod_analysis/data_text_elements/sf_prep.txt"
sf_desc <- "../neomod_analysis/data_text_elements/sf_desc.txt"
r <- txtstorage::read
```

# Datenauswertung

## Software und Daten

Die vorliegende Arbeit wurde in fünf verschiedenen Teilprojekten entwickelt und hat mindestens vier Hilfsprojekte hervorgebracht oder inspiriert (siehe Tabelle \@ref(tab:projects)). Alle diese Projekte wurden und werden unabhängig voneinander mit der Versionskontrollsoftware Git^[https://git-scm.com/ [31.07.2018]] überwacht, die den Arbeitsfortschritt in vielen hundert einzeln kommentierten Veränderungspaketen -- "Commits" -- dokumentiert. Der Entstehungsprozess ist damit weitreichend nachvollziehbar, sieht man von Vorüberlegungen und Gesprächen ab, die keine konkreten Ergebnisse gezeitigt haben. Nach Abschluss von Korrektur und Revision der Arbeit, werden alle Projekte über die Cloud Plattform Github ^[https://github.com/ [31.07.2018]] zugänglich gemacht werden. Die im Text verarbeitete und darüber hinaus gesammelte Literatur ist in drei thematisch getrennte Sammlungen gegliedert (siehe Tabelle \@ref(tab:libraries)) und über das zotero Webportal einsehbar.   

```{r projects, echo=FALSE, tidy=FALSE}
library(magrittr)

tibble::tibble(
  name = c(
    "neomod\\_textdev",
    "neomod\\_prepresentation",
    "neomod\\_analysis",
    "popgenerator",
    "gluesless",
    "c14bazAAR",
    "neimann1995",
    "rdoxygen",
    "txtstorage"
  ),
  link = c(
    "\\href{https://www.github.com/nevrome/neomod\\_textdev}{github/nevrome/neomod\\_textdev}",
    "\\href{https://www.github.com/nevrome/neomod\\_prepresentation}{github/nevrome/neomod\\_prepresentation}",
    "\\href{https://www.github.com/nevrome/neomod\\_analysis}{github/nevrome/neomod\\_analysis}",
    "\\href{https://www.github.com/nevrome/popgenerator}{github/nevrome/popgenerator}",
    "\\href{https://www.github.com/nevrome/gluesless}{github/nevrome/gluesless}",
    "\\href{https://www.github.com/nevrome/c14bazAAR}{github/nevrome/c14bazAAR}",
    "\\href{https://www.github.com/nevrome/neimann1995}{github/nevrome/neimann1995}",
    "\\href{https://www.github.com/nevrome/rdoxygen}{github/nevrome/rdoxygen}",
    "\\href{https://www.github.com/nevrome/txtstorage}{github/nevrome/txtstorage}"
  ),
  description = c(
    "Textproduktion. Der Text der Masterarbeit wurde in R Markdown\\tablefootnote{\\url{https://rmarkdown.rstudio.com/ [31.07.2018]}} mit im bookdown Framework\\tablefootnote{\\url{\\textcite{xie_bookdown_2016}; \\textcite{xie_bookdown_2018}; https://bookdown.org/ [31.07.2018]}} verfasst. Da ausschließlich das Rendern mittels Pandoc\\tablefootnote{\\url{https://pandoc.org/ [31.07.2018]}} in LaTeX\\tablefootnote{\\url{https://www.latex-project.org/ [31.07.2018]}} ins PDF Format vorgesehen war, enthält die Textvorlage auch vereinzelt LaTeX Ausdrücke. Jeder Commit löst dank Continous Integration mit Travis\\tablefootnote{\\url{https://travis-ci.com/ [31.07.2018]}} ein automatisches Rendern des Texts aus.",
    "Präsentationen über die Inhalte der Masterarbeit. Vor- während und nach der Arbeit wurden mehrere Präsentation über Planung, Arbeitsfortschritt und Ergebnisse zusammengestellt. Die Präsentationen sind jeweils in R Markdown konstruiert, unterscheiden sich aber je nachdem, ob ein Rendern in HTML oder PDF vorgesehen war.",
    "Datenanalyse. Sowohl die Realweltdaten als auch die Daten aus der Simulation wurden mit R ausgewertet. Dieses Projekt hat bewusst nicht die Form eines R Pakets, sondern setzt sich aus vielen einzelnen, teilweise redundanten R Skripten zusammen. Hier werden auch Ergebnisdaten und Abbildungen gespeichert. Erstere wurden aufgrund ihres Volumens weitestgehend  nicht mit Versionskontrolle dokumentiert und liegen entsprechend nur in den lokalen Systemen vor, in denen sie erzeugt wurden. Sie müssen bei Bedarf generiert oder -- im  Fall von Quelldaten -- heruntergeladen werden.",
    "Populationsgenerator. R Paket zur Konstruktion von Populationsgraphen.",
    "Expansionsmodell. C++ Programm zur Simulation der Ausbreitung von Ideen in einem Populationsgraphen, wie er von popgenerator erzeugt wird.",
    "\\textsuperscript{14}C-Datenbeschaffung. R Paket zum strukturierten Download von \\textsuperscript{14}C-Daten aus verschiedenen Quelldatenbanken -- unter anderem der hier verarbeiteten Radon-B Datenbank.",
    "Reproduktion eines Artikels. Verständnisübung entlang eines der wesentlichen Artikel in der theoretischen Vorbereitung dieser Arbeit.",
    "Doxygen Dokumentation. R Paket um Doxygen Dokumentation für Source Code in R Paketen zu erstellen.",
    "Textdatenspeicher. R Paket zur Verwaltung vo Austauschdateien mit einfachen Analyseergebnissen. Dient vor allem dazu, Zähldaten dynamisch in den Text der Arbeit einzubinden."
  ) 
) %>%
  dplyr::transmute(
    number = 1:nrow(.),
    Projekt = paste0("\\textbf{", name, "}", "\n", ifelse(!is.na(link), paste0("\\textit{", link, "}", "\n"), ""), description)
  ) %>%
  dplyr::mutate_all(
    kableExtra::linebreak
  ) %>%
  knitr::kable(
    caption = "Projekte und Pakete für diese Arbeit.",
    format = "latex",
    booktabs = T,
    escape = F,
    col.names = c("", "Projekt"),
    linesep = "\\addlinespace"
  ) %>%
  kableExtra::kable_styling(full_width = T, font_size = 8) %>%
  kableExtra::column_spec(1, bold = TRUE,  width = "0.5em") %>%
  kableExtra::column_spec(2, width = "25em")
```

```{r libraries, echo=FALSE, tidy=FALSE}
tibble::tibble(
  name = c(
    "cultural\\_evolution",
    "bronze\\_age\\_burials",
    "software\\_packages"
  ),
  link = c(
    "\\href{https://www.zotero.org/groups/2086516/cultural\\_evolution}{zotero/cultural\\_evolution}",
    "\\href{https://www.zotero.org/groups/2199051/bronze\\_age\\_burials}{zotero/bronze\\_age\\_burials}",
    "\\href{https://www.zotero.org/groups/2211203/software\\_packages}{zotero/software\\_packages}"
  ),
  description = c(
    "Cultural Evolution. Literatursammlung zu Cultural Evolution und ihren vielen Subthemen wie Memetik, Cultural Transmission oder Sozial Learning. Geht weit über eine rein archäologische Perspektive hinaus, umfasst aber gleichzeitig archäologische Fallstudien ohne großen theoretischen Selbstanspruch.",
    "Bestattungssitten in der Bronzezeit. Archäologische Literatur zur Theorie der Thanatoarchäologie und zur kulturhistorischen Entwicklung in der Bronzezeit.",
    "Software. Referenzen von wissenschaftlicher Software, die für Datenverarbeitung sowie Text- und Abbildungsvorbereitung zum Einsatz gekommen ist. Vor allem R Pakete und C++ Bibliotheken."
  ) 
) %>%
  dplyr::transmute(
    number = 1:nrow(.),
    Bibliothek = paste0("\\textbf{", name, "}", "\n", ifelse(!is.na(link), paste0("\\textit{", link, "}", "\n"), ""), description)
  ) %>%
  dplyr::mutate_all(
    kableExtra::linebreak
  ) %>%
  knitr::kable(
    caption = "Literatursammlungen für diese Arbeit.",
    format = "latex",
    booktabs = T,
    escape = F,
    col.names = c("", "Bibliothek"),
    linesep = "\\addlinespace"
  ) %>%
  kableExtra::kable_styling(full_width = T, font_size = 8) %>%
  kableExtra::column_spec(1, bold = TRUE,  width = "0.5em") %>%
  kableExtra::column_spec(2, width = "25em")
```

Die gesamte Datenanalyse wurde in der Statistikprogrammiersprache R^[@RCoreTeamLanguageEnvironmentStatistical2016] implementiert. Dabei kam neben Funktionen aus Basispaketen auch eine große Anzahl von Community-Paketen zum Einsatz, inklusiver mehrerer selbst entwickelter. Aufgrund der sonst unangemessen großen Menge an Referenzen, werden im folgenden nur die Pakete genannt, deren Funktionen tatsächlich unmittelbar aufgerufen wurden und nicht deren oft umfangreiche Sammlung an Abhängigkeiten. Die Zusammenstellung umfasst jedoch auch Pakete, die im Laufe der Entwicklung intensiv zum Einsatz kamen, dann aber aufgrund inhaltlicher oder technischer Veränderungen ersetzt werden mussten. Über die Entwicklungszeit dieser Arbeit haben sich viele der verwendeten Pakete ebenfalls weiterentwickelt -- die angebene Versionsnummer bezieht sich auf diejenige, mit der die in Version 1.0 dieser Arbeit abgedruckten Ergebnisse erstellt wurden. 
<!--purrr::map(c("broom", "dplyr"), function(x) {toBibtex(citation(x))})-->
Folgende Pakete kamen zum Einsatz zur Text- und Literaturverarbeitung (bookdown^[@xie_bookdown_2016; @xie_bookdown_2018], citr^[@aust_citr_2017], knitr^[@xie_dynamic_2015; @xie_knitr_2014; @xie_knitr_2018], markdown^[@allaire_markdown_2017], rmarkdown^[@allaire_rmarkdown_2018]), zur Datenbeschaffung (c14bazAAR), zur allgemeinen Datenmanipulation (broom^[@robinson_broom_2018], dplyr^[@wickham_dplyr_2018], forcats^[@wickham_forcats_2018], kableExtra^[@zhu_kableextra_2018], pbapply^[@solymos_pbapply_2018], plyr^[@wickham_split-apply-combine_2011], purrr^[@henry_purrr_2018], readr^[@wickham_readr_2017], stringi^[@gagolewski_r_2018], stringr^[@wickham_stringr_2018], tibble^[@muller_tibble_2018], tidyr^[@wickham_tidyr_2018], reshape, reshape2), zur Graphikerstellung (cowplot^[@wilke_cowplot_2018], ggplot2^[@wickham_ggplot2_2016], gridExtra^[@auguie_gridextra_2017], png^[@urbanek_png_2013]), für geographische Analysen (raster^[@hijmans_raster_2017], sf^[@pebesma_sf_2018], sp), für statistische Analysen und Spezialdatenverarbeitung (Bchron^[@haslett_simple_2008], car^[@fox_r_2011], vegan^[@oksanen_vegan_2018]), zur Erstellung von WebApps und Interaktiven Präsentationen im Shiny Framework (shiny^[@chang_shiny_2018]) und zur allgemeinen Arbeit und Paketentwicklung in R (devtools^[@wickham_devtools_2018], magrittr^[@bache_magrittr_2014], pryr^[@wickham_pryr_2018], Rcpp^[@eddelbuettel_extending_2017; @eddelbuettel_rcpp_2011; @eddelbuettel_seamless_2013], rlang^[@henry_rlang_2018], roxygen2^[@wickham_roxygen2_2017], testthat^[@wickham_testthat_2011]). 

Die Expansionssimultion gluesless ist in C++^[@standard-cpp-foundation_international_2017] umgesetzt, um auf dessen höhere Geschwindigkeit und bessere Werkzeuge für objektorientiertes Programmieren zurückgreifen zu können. Zur Abbildung des Populationsgraphen kam zunächst die Boost Graph Library^[https://www.boost.org/doc/libs/1_67_0/libs/graph [01.08.2018]; @siek_boost_2002] (BGL) zum Einsatz, wurde dann aber aufgrund von Performance-Problemen durch die C++ Bibliothek des Stanford Network Analysis Project^[https://snap.stanford.edu/ [01.08.2018]; @leskovec2016snap] (SNAP) abgelöst. 

Die für die Kartengestaltung benötigten Raumdaten, also Landmasse-Außengrenzen, Administrative Ländergrenzen sowie Flüsse und Seen, stammen aus dem Natural Earth Projekt^[https://www.naturalearthdata.com [02.08.2018]]. Verwendet wurden Daten des mittleren Auflösungssniveaus, das eine Maßstabsperspektive von 1:50.000.000 wiedergeben soll.

## Datensatz Radon-B {#radonb-dataset}

Radon-B^[@kneisel_radon-b_2013] ist eine öffentlich verfügbare Datenbank, die einzelne Radiokohlenstoffdatierungen -- ^14^C-Daten -- aus der Bronze- und Frühen Eisenzeit in Europa sammelt. Sie konzentriert sich auf ein Zeitfenster zwischen 2300 bis 500calBC ab, enthält jedoch auch Daten jenseits dieses Limits. Neben Radon-B steht mit ihrer Schwesterdatenbank Radon[@martin_hinz_radon_2012] eine strukturell äquivalente Sammlung mit einem Schwerpunkt auf neolithischen Daten zur Verfügung. Jedes Datum ist mit Kerndaten und Metainformationen verknüpft (siehe Tabelle \@ref(tab:radonbparams)). Die Informationen wurden aus einzelnen Publikationen zusammengetragen und sind teilweise unvollständig, inkonsistent oder fehlerhaft (siehe auch Kapitel \@ref(source-criticism)). 

```{r radonbparams, echo=FALSE, tidy=FALSE}
tibble::tibble(
  param = c(
    "ID",
    "Lab Code + Lab Nr.",
    "BP (Before Present)",
    "Std (Standard deviation)",
    "$\\delta$\\textsuperscript{13}C",
    "$\\delta$\\textsuperscript{13}C Std",
    "Sample Material",
    "Sample Material Comment",
    "Feature Type",
    "Feature",
    "Culture",
    "Phase",
    "Site",
    "Country",
    "Country Subdivision",
    "Literature",
    "Comment"
  ),
  examples = c(
    NA,
    "z.B. Ua-25144, OxA-1602, HAR-4341",
    NA,
    NA,
    NA,
    NA,
    "z.B. charcoal, bone, seed",
    "z.B. hazel, oak, barley, boar",
    "z.B. settlement (house), rockshelter, 	Grave (cremation)",
    "z.B. House I, from a mass of burnt debris...",
    "z.B. Late Bronze Age, Únětice, Nordic Bronze Age",
    "z.B. Nagyrév Group, Mierzanowice, Period III",
    "z.B. La Croix-Saint-Ouen, Stedten, Byneset",
    "z.B. Germany, France, Poland",
    "z.B. Baden-Württemberg, Surrey, Greater Poland",
    NA,
    NA
  ),
  description = c(
    "Eine datenbankspezifische, individuelle Kennnummer.",
    "Die allgemeine, individuelle Kennnummer, die sich aus einem Kürzel des Labors, das die Messung durchgeführt hat, und einer fortlaufenden, laborspezifischen Prozessnummer zusammensetzt.",
    "Das \\textsuperscript{14}C-Alter, das mit der Messung ermittelt wurde in Jahren vor 1950 nach Christus [uncalBP].",
    "Die messbedingte Standardabweichung des \\textsuperscript{14}C-Alters.",
    "Ein Maß für das Isotopenverhältnis des stabilen Isotops \\textsuperscript{13}C / \\textsuperscript{12}C zwischen der Probe und einem Standard in Promille [\\textperthousand].",
    "Die Standardabweichung des $\\delta$\\textsuperscript{13}C-Werts.",
    "Oberkategorie des Probenmaterials.",
    "Nähere Kategorisierung und Artenzuordnung des Probenmaterials.",
    "Befund bzw. Fundplatzkategorie, aus dem das Probenmaterial stammt.",
    "Bezeichnung des Befunds in der Grabungsdokumentations des Fundplatzes.",
    "Allgemeine, archäologische Kultur- oder Phasenzuordnung des Probenkontexts.",
    "Präzisere Kultur- oder Kontextansprache.",
    "Bezeichnung des Fundplatzes, aus dem die Probe stammt.",
    "Land in dem der Fundplatz liegt.",
    "Zugehörige administrative Region innerhalb des Landes.",
    "Literaturreferenz auf die Publikation aus der die Informationen über das Datum entnommen wurden.",
    "Freitextkommentarfeld mit Zusatzinformationen zu dem einzelen Datum."
  ) 
) %>%
  dplyr::transmute(
    number = 1:nrow(.),
    Parameter = paste0("\\textbf{", param, "}", "\n", ifelse(!is.na(examples), paste0("\\textit{", examples, "}", "\n"), ""), description)
  ) %>%
  dplyr::mutate_all(
    kableExtra::linebreak
  ) %>%
  knitr::kable(
    caption = "Parameter, die in Radon-B für jedes Datum vorliegen.",
    format = "latex",
    booktabs = T,
    escape = F,
    col.names = c("", "Parameter"),
    linesep = "\\addlinespace"
  ) %>%
  kableExtra::kable_styling(full_width = T, font_size = 8) %>%
  kableExtra::column_spec(1, bold = TRUE,  width = "0.5em") %>%
  kableExtra::column_spec(2, width = "25em")
```

### Datenvorbereitung und Gliederung {#data-prep-and-segmentation}

Eine hinsichtlich der Variablenauswahl etwas reduzierte^[Für einen Überblick, welche Variablen heruntergeladen und wie umbenannt werden: https://github.com/ISAAKiel/c14bazAAR/blob/master/data-raw/variable_reference.csv], aber hier ausreichende Version von Radon-B wurde mittels des R Pakets c14bazAAR^[@schmid_c14bazaar_2018] direkt in R bezogen. Dieser Ausgangsdatensatz enthielt alle zu diesem Zeitpunkt [15.07.2018] öffentlichen Einträge: 11.048 Daten von 2.766 Fundplätzen aus 48 Ländern. Der erste Datenverarbeitungsschritt war das Entfernen aller Daten ohne Altersinformation und aller Daten außerhalb der theoretischen Reichweite der Kalibrationskurve (71-46401calBP) (`r r("size bronze", sf_prep)` Daten verblieben). Zur Kalibration wurde das R Paket Bchron^[@haslett_simple_2008] und die darin enthaltenen Version es IntCal13 Datensatzes^[@reimer_intcal13_2013] verwendet. Bchron berechnet das kalibrierte Alter mittels Numerischer Integration^[https://github.com/andrewcparnell/Bchron/blob/master/R/BchronCalibrate.R [02.08.2018]] und liefert für jedes Datum eine normierte Wahrscheinlichkeitskurve. Alter mit Wahrscheinlichkeiten unterhalb eines Schwellwerts von $1\mathrm{e}{-6}$ wurden abgeschnitten und Alter innerhalb des $2\sigma$ Wahrscheinlichkeitsbereichs gesondert markiert. Die so erhaltenen, unterschiedlich wahrscheinlichen, kalibrierten Alter für jedes einzelne Datum wurden ab hier von calBP in calBC umgerechnet, um üblichen archäologischen Konventionen und dem allgemeinen Sprachgebrauch zu entsprechen. Um ein Subset des so vorbereiteten Gesamtdatensatzes zu erzeugen, das die Anforderungen der Fragestellung erfüllt, wurde er auf all jene Daten reduziert, die in ihrem $2\sigma$ Bereich mindestens ein Alter im Zeitfenster 800-2200calBC (1401 Jahre) vorweisen können (`r r("size bronze0", sf_prep)` Daten). Radon-B stellt in der Variable *Feature Type* (*sitetype* in c14bazAAR) teilweise kategorisierte Informationen zum Befundkontext jedes Datums zur Verfügung: Fragestellungsrelevant sind die Kategorien *cemetery*, *Grave*, *Grave (mound)*, *Grave (mound) inhumation*, *Grave (mound) cremation*, *Grave (flat)*,  *Grave (flat) inhumation*, *Grave (flat) cremation*, *Grave (cremation)* und *Grave (inhumation)* (`r r("size bronze05", sf_prep)` Daten). Statt der Variablen *Feature Type* wurden mittels Pattern Matching zwei neue Variablen mit jeweils drei Werten geschaffen: *burial_type* mit den Kategorien *inhumation*, *cremation* und *unknown* sowie *burial_construction* mit den Kategorien *mound*, *flat* und *unknown*. Die Fragestellung erfordert es auch, alle Daten ohne Raumbezug, also ohne Koordinateninformation, zu entfernen (`r r("size bronze1", sf_prep)` Daten). Nach diesen Arbeitsschritten lässt sich der Hauptausgangsdatensatz als Tabelle mit `r r("size bronze1", sf_prep)` Zeilen und `r r("bronze1 variable amount", sf_prep)` Spalten beschreiben, darunter die hier wesentlichen mit Angaben zu Labornummer, Koordinaten, Dichteverteilung des kalibrierten Alters und *burial_type* sowie *burial_construction*. Eine Karte der so vorbereiteten Gräberdaten zeigt die hohe Heterogenität der Datendichte in verschiedenen Regionen Europas (siehe Abbildung \@ref(fig:general-map).

```{r general-map, echo = FALSE, fig.scap = "Übersichtskarte der \\textsuperscript{14}C Daten an bronzezeitlichen Gräbern in Europa", fig.cap = "Karte der \\textsuperscript{14}C-Daten des Radon-B Datensatzes in Europa aus einem Zeitfenster von 2200-800calBC. Daten außerhalb des durch die gewählten Kartengrenzen definierten Areals werden ignoriert. Jedes Datum ist nach seinen Kontextinformationen hinsichtlich der Variablen Burial type und Burial construction in Form und Farbe markiert.", out.extra = ""}
# TODO: Karte durch eine Version "general_map" ohne research area ersetzen
knitr::include_graphics("../neomod_analysis/figures_plots/general_maps/general_map_research_area_unzoomed.jpeg")
```

Abbildung \@ref(fig:general-map-research-area) zeigt das Untersuchungsareals dieser Arbeit. Es folgt keinen natürlichen oder kulturellen Grenzen, sondern wurde rein künstlich in Anbetracht der räumlichen Verteilung der zusammengestellten ^14^C-Daten festgelegt. Auf Grundlage visueller Analyse der Punktdichte schien es angemessen, ein rechteckiges Areal aufzuspannen. Die Projektion, die dieser Festlegung, allen Kartierungen und auch der Regionengliederung zugrunde liegt ist bewusst mit EPSG:102013^[https://epsg.io/102013 [02.08.2018]] -- Europe Albers Equal Area Conics gewählt, da diese auch auf kontinentalem Maßstab und bei Landmassen in betonter Ost-West Ausdehnung ein hohes Maß an Flächentreue gewährleistet^[@snyder_map_1987, 98-99.]. Das ist eine wichtige Eigenschaft für die Definition von vergleichbaren, räumlichen Untersuchungseinheiten. `r r("size bronze15", sf_prep)` der `r r("size bronze1", sf_prep)` oben ausgewählten Daten stammen aus dem Rechteckareal.  

```{r general-map-research-area, echo = FALSE, fig.scap = "Karte mit \\textsuperscript{14}C Daten und Grenzen des Untersuchungsareals", fig.cap = "Wie Abbildung \\ref{fig:general-map}, jedoch mit Fokus auf das rot markierte Untersuchungsareal.", out.extra = ""}
knitr::include_graphics("../neomod_analysis/figures_plots/general_maps/general_map_research_area.jpeg")
```

Der nach oben beschriebenem Vorgehen zusammengestellte Arbeitsdatensatz umfasst also `r r("size bronze15", sf_prep)` Einträge aus der Radon-B Datenbank. Die effektive Anzahl an ^14^C Daten, die diese Einträge wiedergeben, ist jedoch geringer: Eine Zählung der Labornummern ergibt `r r("bronze15 labnrs amount", sf_prep)` individuelle Werte. Diese Diskrepanz ergibt sich aus Einträgen mit keiner (*n/a-n/a*) oder unvollständiger (z.B. *MAMS-n/a*, *Gd-n/a*, *Ke-n/a*) Labornummer sowie Daten die mehrfach in die Datenbank eingegeben wurden (z.B. *OxA-29003*, *GrN-10754*, *BRAMS-1217*). Letzteres betrifft `r r("bronze15 labnr doubles", sf_prep)` Einträge in dieser Datenauswahl, die ein und dasselbe ^14^C Datum zwei- oder mehrfach repräsentieren. Die Anzahl an Gräbern, die durch die Einträge repräsentiert werden ist noch geringer: Für `r r("bronze15 multi dates one grave", sf_prep)` Einträge gilt, dass die ihnen zugehörige Kombination aus Fundplatz und Befund von mindestens einem weiteren Eintrag abgedeckt wird. Der wichtigste Grund dafür ist, dass für ein Grab häufig mehrere ^14^C Daten in Auftrag gegeben werden. Die Abweichungen zwischen Einträgen und ^14^C Daten sowie ^14^C Daten und Gräbern scheinen also auf den ersten Blick schwerwiegend zu sein. Nichtsdestoweniger wurde in einem ersten Durchlauf der Berechnungen von einer Korrektur abgesehen, und tatsächlich waren die Auswirkungen dieses Versäumnisses auf die relative zeitliche und räumliche Entwicklung der Hauptuntersuchungsparameter erstaunlich gering. Die Über- und Unterbetonung der Verhältnisse durch beide Fehler zeigte keine übermäßig starke Tendenz hinsichtlich der Variablen *burial type* (Absolute Werteverteilung innerhalb der Dubletten: `r r("bronze15 burial_type doubles", sf_prep)`) und *burial construction* (`r r("bronze15 burial_construction doubles", sf_prep)`) und auch zeitlich und räumlich waren die Abweichungen scheinbar weitestgehend zufällig verteilt. In dieser Datenkombination also eher ein statistisches Rauschen. Da allerdings keine Garantie besteht, dass das auch für andere Datenkombinationen in Zukunft gelten wird, schien es sinnvoll einen Algorithmus zu entwickeln, um die Fehler zumindest teilweise auszugleichen.

Erstere Abweichung zwischen der Menge an Einträgen und den tatsächlich vorhanden ^14^C Daten ist durch unvollständige Datenpublikation und Fehleingabe bedingt. Sie wird sich mit der stückweisen Verbesserung des Radon-B Datensatzes in Zukunft hoffentlich selbst lösen. Da sich die Einträge jenseits der Labornummer häufig unterscheiden, bleibt im Augenblick nur die Diskussion von Einzelfällen oder die Inkaufnahme von geringfügigem Datenverlust bei einer automatisierten Lösung. Um die reproduzierbare Natur dieser Arbeit nicht in Frage zu stellen, kamen Werkzeuge aus dem c14bazAAR Paket zum Einsatz, die Einträge mit äquivalenter Labornummer automatisch zusammenführen. Abweichende Einträge in den Ausgangsdaten werden dabei als unbekannte Werte behandelt. Von den `r r("size bronze16", sf_prep)` oben zusammengestellten Einträgen blieben 1.848 erhalten.

Die zweite Mengenabweichung zwischen ^14^ Daten und Gräbern ist schwerwiegender, da sie immerhin nahezu ein Drittel der Einträge betrifft und keine Aussicht besteht, dass sich dieses Problem mit einer Verbesserung der Datenlage lösen wird: Sie ist Teil der Semantik des Datensatzes. Da für einzelne Gräber mehrere (bis zu `r r("bronze16 max dates per grave", sf_prep)`) ^14^C Daten vorliegen, muss für diese jeweils ein individuelles chronologisches Modell definiert werden, dass alle Daten vereint. Für einen großen Teil der Gräber könnte zwar angenommen werden, dass die Datierungen sich tatsächlich nur auf ein einzelnes, zu einem bestimmten Zeitpunkt in einen geschlossenen Befund eingebrachtes Individuum beziehen, das geht allerdings nicht aus den in Radon-B enthaltenen Metainformationen hervor. Stattdessen muss in Betracht gezogen werden, dass auch Kollektivgräber mit langer Belegungszeit und vielen einzelnen Bestattungen mit nur einer Befundbezeichnung charakterisiert wurden. Die Befundangabe für manche Einträge ist sehr unpräzise (z.B. *Kollektivgrab*, *Einzelgrab*, *from ring ditch*) und es ist nicht ersichtlich, ob die Daten tatsächlich von einer einzelnen Bestattung stammen. Die Herausforderung besteht also darin, auf Grundlage der vorhandenen Daten einerseits das übermäßige Gewicht zeitlich scharf umgrenzter Gräber mit einzelnen, mehrfach datierten Bestattungen zu mindern, und andererseits der diachronen Entwicklung in über lange Zeit genutzten Grabanlagen gerecht zu werden. Um das zu erreichen wurden die `r r("bronze16 multi dates one grave", sf_prep)` nach der oben durchgeführten Entfernung der Labornummer-Dubletten verbliebenen Mehrfacheinträge in einem ersten Schritt weiter auf jene Befundtermini reduziert, die tatsächlich einen einzelnen Grabbefund meinen könnten. Das sind vor allem jene `r r("bronze16 multi dates one grave with numbers", sf_prep)` mit numerischen Zeichen (z.B. *Bef. 530 Doppelbestattung*, *Grab, Bef. 35635*, *Objekt 461*), weswegen die Auswahl auf sie beschränkt wurde. Innerhalb dieser Auswahl wurden nach Fundplatz und Befund gegliederte Gruppen angelegt und deren kalibrierte Dichteverteilungen zusammengeführt. Notwendig wäre dafür eigentlich ein individuelles chronologisches Modell für jede dieser Datengruppen. Stattdessen wurden die einzelnen Dichteverteilungen addiert und auf die das Gesamtmaximum bezogen normiert. Die Information, ob ein Alter zum $2\sigma$ Bereich eines Datums gehört, wurde immer dann als wahr angenommen, wenn es im $2\sigma$ mindestens eines Datums liegt. Aus der Perspektive der ^14^C Datenverarbeitung ist dieses Vorgehen nicht korrekt, angesichts der zugrundeliegenden Fragestellung und der Herausforderungen des Datensatzes jedoch sinnvoll: Jeder Eintrag im Datensatz soll einen Ort und einen Zeitraum definieren, in dem die mit ihm assoziierten Angaben für die Primärvariablen *burial_type* und *burial_construction* auftraten. Durch die Reduktion der Daten auf einen einzelnen Eintrag wird die Überbetonung dieser Information vermieden. Gleichzeitig wird aber auch der mitunter langen Belegungsdauer eines durch den einzelnen Eintrag repräsentierten Grabmonuments Rechnung getragen. Eine Verbesserung der Metainformationen zu jedem Datum (z.B. relativchronologische Position zu anderen Daten des selben Grabes) würde eine wesentliche Verbesserung dieses Algorithmus ermöglichen. Nach der vorgenommenen Reduktion verblieben `r r("size bronze17", sf_prep)` jeweils befundspezifische Einträge.

Innerhalb des Untersuchungsareals wurden künstliche Regionen abgegrenzt, um die zeitliche und räumliche Entwicklung der Variablen *burial_type* und *burial_construction* in sinnvollen und der verfügbaren Datenmenge angemessenen Einheiten beobachten zu können (siehe Abbildung \@ref(fig:general-map-research-area-regions)). Der Prozess der Erstellung dieser Regionen war semiautomatisch und darauf angelegt kulturelle Makroregionen der Bronzezeit zumindest näherungsweise abzubilden. Dafür stand mir auch eine unpublizierte, händisch entworfene Regionengliederung von Jutta Kneisel und Oliver Nakoinz als Vorlage zur Verfügung. In den Grenzen des Untersuchungsareals wurde ein Raster von Punkten angelegt, die jeweils als Zentrum einer der geplant runden Regionen dienen sollten. Dieses Raster wurde manuell so angepasst, bis es sich den Zentrumspunkten wesentlicher geographischer, kultureller und/oder forschungsgeschichtlicher Einheiten annährte. Die Distanz zwischen den Zentren beträgt in dieser Konfiguration 400km (im Bezugssystem der EPSG:102013 Projektion). In einem weiteren Schritt wurden kreisförmige Regionen um die Zentrumspunkte aufgebaut. Der Kreisradius wurde nach Augenmaß mit 240km so gewählt, dass möglichst alle bekannten ^14^C Daten (also damit auch Gräber) in mindestens einer Region verortet sind. Das Überlappen von Regionen wurde dabei in Kauf genommen. Andere Regionendefinitionen anhand alternativer geometrischer Formen (Rechtecke, Hexagone), nach der Dichteverteilung von Fundpunkten, anhand sich zeitlich wandelnder, archäologisch erfasster, kultureller Einheiten sind denkbar und sollten bei zunehmender Datenverfügbarkeit in Zukunft evaluiert werden. Das gilt auch hinsichtlich der Größe der Einheiten, die aufgrund der diachron geringen Datenmenge sehr groß gewählt werden mussten. Nur aus den acht Regionen, die in Abbildung \@ref(fig:general-map-research-area-regions) definiert werden, sind ausreichend ^14^C Daten an Gräbern bekannt, um eine nähere Betrachtung zu rechtfertigen. Der Schwellwert dafür wurde mit 60 Gräbern jedoch sehr niedrig angelegt um das effektive Untersuchungsareal nicht noch weiter verkleinern zu müssen. Die Benennung der Regionen war an den modernen, administrativen Einheiten orientiert, die die Kreise im wesentlichen einschließen. Ihre im folgenden stets eingehaltene, geographische Reihenfolge von Südost nach Nordwest soll die Lesbarkeit- und Interpretierbarkeit von Abbildungen erhöhen. Mit angegeben ist die Menge an Gräbern pro Region: `r r("regions graves amounts", sf_prep)`. Durch die Regionengliederung verringerte sich das effektive Untersuchungsareal weiter. Von den `r r("size bronze17", sf_prep)` Gräbern im Rechteckareal verblieben `r r("gpr size", sf_desc)`. Das ist der Ausgangsdatensatz auf dem alle folgenden Beobachtungen beruhen.

```{r general-map-research-area-regions, echo = FALSE, fig.scap = "Karte mit \\textsuperscript{14}C Daten, dem Untersuchungsareal und den künstlichen Regionen", fig.cap = "Wie Abbildung \\ref{fig:general-map-research-area}. Die Regionen sind farblich markiert.", out.extra = ""}
knitr::include_graphics("../neomod_analysis/figures_plots/general_maps/general_map_research_area_regions.jpeg")
```

### Deskriptive Analyse

Aus dem Areal der kreisförmigen, artifiziellen Großregionen, die für diese Arbeit festgelegt wurden (siehe Abbildung \@ref(fig:general-map-research-area-regions)) liegen in Radon-B Informationen zu mindestens `r r("gpr size", sf_desc)` Gräbern auf Grundlage von `r r("dpr size", sf_desc)` ^14^C Daten vor (zur Datenauswahl und -vorbereitung siehe Kapitel \@ref(data-prep-and-segmentation)). Geht man davon aus, dass die Eingaben in Radon-B korrekt sind, dann stammen die ^14^C Daten von `r r("dpr sites amount", sf_desc)` Fundplätzen. Zu den Daten sind `r r("dpr period amount", sf_desc)` verschiedene Periodenbegriffe und `r r("dpr culture amount", sf_desc)` archäologische Kulturen dokumentiert, diese Information ist jedoch aufgrund der Datensituation sinnvoll auswertbar (siehe Kapitel \@ref(source-criticism)). `r r("dpr material bone amount", sf_desc)` Daten wurden an Probenmaterial von Knochen und Zähnen (`r r("dpr material cremated bones amount", sf_desc)` davon verbrannt), `r r("dpr material charcoal wood amount", sf_desc)` von Holz und Holzkohle, ein kleiner Teil (`r r("dpr material other amount", sf_desc)`) von sonstigen Materialien wie Nüssen, Harz oder Pech gemessen. Für die restlichen `r r("dpr material unknown amount", sf_desc)` Daten ist keine Materialangabe hinterlegt. Hinsichtlich der Variablen *burial_type* und *burial_construction* gelten die in Tabelle \@ref(tab:dprcrosstab) dargestellte Verhältnisse.

```{r dprcrosstab, echo=FALSE, tidy=FALSE}
load("../neomod_analysis/data_text_elements/dprcrosstab.RData")
dprcrosstab %>% 
  unclass() %>% data.frame() %>% 
  knitr::kable(
    caption = "Kreuztabelle",
    format = "latex",
    booktabs = T,
    escape = F,
    linesep = "\\addlinespace"
  ) %>%
  kableExtra::kable_styling(
    full_width = T, 
    font_size = 8,
    latex_options = "hold_position"
  )
```

\begin{landscape}
```{r general-map-research-area-timeslices, echo = FALSE, fig.scap = "huhu", fig.cap = "huhu", out.extra = ""}
knitr::include_graphics("../neomod_analysis/figures_plots/general_maps/general_map_research_area_timeslices.jpeg")
```
\end{landscape}

### Quellenkritik {#source-criticism}

Die Verwendung des Radon-B Datensatzes im Kontext von Methode und Fragestellungen dieser Arbeit ist aus mehreren Gründen problematisch. Eine Quellenkritik muss dabei auf verschiedenen Ebenen ansetzen: Bei der technischen und inhaltlichen Umsetzung der Datenbank, bei der Repräsentativität der im Datensatz vertretenen Stichprobe und schließlich bei der Frage, ob diese Art Daten für eine Betrachtung von Kulturvorgängen im Rahmen der Cultural Evolution Theorie und Terminologie geeignet ist.

#### Radon-B

Die Radon-B Datenbank hat inhaltliche Unzulänglichkeiten, die sich vor allem aus inkonsistenter Dateneingabe infolge mangelnder Vorgaben in Freitextfeldern ergeben. Eine systematische Lösung dieser Probleme wäre sehr aufwändig, da sie die individuelle, nicht automatisierbare Reevaluation eines großen Teils der Einträger erfordern würde.      

- Die Einträge sind mehrsprachig -- vor allem Englisch und Deutsch -- wobei in ein und dem selben Datensatz mitunter mehrere Sprachen für einzelne Felder auftreten. 

#### Repräsentativität

Die Abbildungen \@ref(fig:general-map, X und Z zeigen, dass der Datensatz für einzelne Regionen und Zeiträume verhältnismäßig viele Daten, für die Mehrzahl der Regionen jedoch sehr wenige Daten enthält. Diese Ungleichverteilung der Daten hat sicher viele verschiedene Gründe.  

- Schwerpunkte der Datenaufnahme für RADON-B nach Forschungsinteressen der beteiligten Wissenschaftler.
- Regionale und zeitliche Ausrichtung von Forschungsprojekten, in deren Rahmen die C14-Daten erstellt wurden. Damit zusammen hängt die politische Rahmensituation, die C14-Datierung in größerem Umfang z.B. in den Osteuropäischen Staaten erst nach dem Zusammenbruch der Sowjetunion möglich gemacht hat. 
- Forschungstraditionen
- Erhaltungssituation organischer Funde
- Dateneingabe in RADON-B (Wo sind Grabmetainformationen beigelegt?)
- weitere mögliche Bestattungsformen, die archäologisch nicht fassbar sind

Die Repräsentativität kann zumindest oberflächlich geprüft werden, indem man die oben vorgestellten Ergebnisse auf Grundlage des Radon-B Datensatzes mit einer Auswertung der pseudoquantitativen Aussagen aus der Literatur vergleicht, wie sie in Kapitel \@ref(regions-archaeological-overview) zusammengefasst wurden.

Österreich und Tschechische Republik

Polen

Süddeutschland

Norddeutschland

Nordostfrankreich

Südskandinavien

Benelux

England

#### Datenbedeutung

## Simulation

### Theoretische Grundlage und Funktionalität

Wie werden warum welche Gegebenheiten der realen Welt im Modell abgebildet?

### Implementierung

### Simulationsparameter

### Allgemeine Beobachtungen zum Simulationsverhalten

## Kulturelle und Räumliche Distanz

## Kausale Interaktionsbeziehungen

## Simulation und reale Entwicklung

...



\pby[title={Literatur},segment=\therefsegment,heading=subbibintoc]
